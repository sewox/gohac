---
interface Props {
  url: string;
  alt?: string;
  caption?: string;
}

const { url, alt = '', caption } = Astro.props;

// Build full image URL
const API_BASE_URL = import.meta.env.PUBLIC_API_URL || 'http://localhost:3131';
const fullImageUrl = url 
  ? (url.startsWith('http') ? url : `${API_BASE_URL}${url.startsWith('/') ? url : '/' + url}`)
  : '';
---

<section class="py-8 md:py-12 bg-gray-900">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto">
      {fullImageUrl && (
        <img 
          src={fullImageUrl} 
          alt={alt}
          class="w-full h-auto rounded-lg shadow-md border border-gray-700"
        />
      )}
      {caption && (
        <p class="text-center text-gray-400 mt-4 text-sm italic">{caption}</p>
      )}
    </div>
  </div>
</section>

